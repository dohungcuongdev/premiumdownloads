if(typeof(IOL)==="undefined"){IOL={}}IOL.objectExtend=function(a,c){for(var b in c){if(typeof(c[b])!=="undefined"){a[b]=c[b]}}return a};IOL.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};if(typeof(IOL.Analytics)==="undefined"){IOL.Analytics={Tracking:{Engine:IOL.Class.create()},Utils:{}}}IOL.Analytics.Tracking.Engine.version="1.1.6";IOL.Analytics.Tracking.Engine.prototype={version:IOL.Analytics.Tracking.Engine.version,initialize:function(){if(IOL.Analytics.Utils.getEnvironmentLevel()!=="prod"){this._test=true;this._debug=true}var c={debug:this._debug,test:this._test,debugCookieName:"IAT-Debug",engine:"webtrekk",plugins:{},triggerEvents:true,addHostToPageName:false,checkMultipleCalls:0,rules:{},driverConf:{optimizeTrackingParams:true,searchParamsToRemove:[]},customParams:{},callDirectly:true,cgiApiParamsPrefix:"iat_",adBlockCheck:false};try{if(typeof(iol_analytics_tracking_conf)==="object"){c=IOL.objectExtend(c,iol_analytics_tracking_conf)}}catch(h){}this.params=IOL.objectExtend(c,arguments[0]);if(/^(\d+)$/.test(IOL.Analytics.Utils.getCookie(this.params.debugCookieName))){this.params.debug=parseInt(RegExp.$1)}if(typeof(console)==="undefined"){this.params.debug=0}this._log_prefix="[IAT] ";this._event_ns="iat-";this._browser=IOL.Analytics.Utils.browser();if(this.params.debug){this.log("Init engine ("+this.version+")")}for(var g in IOL.Analytics.Tracking.Engine.Plugins._plugins){if(typeof(IOL.Analytics.Tracking.Engine.Plugins._plugins[g].init_handler)==="function"){IOL.Analytics.Tracking.Engine.Plugins._plugins[g].init_handler(this,{debug:this.params.debug})}}this._pagenames={};if(typeof(document.createEvent)==="undefined"){this.params.triggerEvents=false}if(this.params.triggerEvents){IOL.Analytics.Utils.triggerEvent(this._event_ns+"init",{context:this})}var b=new IOL.Analytics.Utils.CGI(document.location.href),j={};for(var f=["ajax","url","path","cookie","search","ajax","hash","referrer"],d=0,a=f.length;d<a;d++){if(typeof(b[this.params.cgiApiParamsPrefix+f[d]])!=="undefined"){j[f[d]]=b[this.params.cgiApiParamsPrefix+f[d]]}}if(IOL.Analytics.Utils.getObjectKeys({obj:j}).length>0){j.debug=b.iat_debug;j.test=b.iat_test;j.https=b.iat_https;j.charset=b.iat_charset;j.title=b.iat_title;if(j.debug){this.log(j)}this.send(j)}},send:function(){var c=IOL.objectExtend({debug:this.params.debug,test:this.params.test,engine:this.params.engine,rules:this.params.rules,checkMultipleCalls:this.params.checkMultipleCalls,addHostToPageName:this.params.addHostToPageName,triggerEvents:this.params.triggerEvents,customParams:this.params.customParams,driverConf:this.params.driverConf,callDirectly:this.params.callDirectly,adBlockCheck:true,callJS:false,ajax:undefined,url:document.location.href,path:document.location.pathname,cookie:document.cookie,search:document.location.search,hash:document.location.hash,referrer:document.referrer,https:document.location.protocol==="https:",onLoadHandler:undefined,timeout:2,addTimestampToUrl:true,cahePageName:false,skipPageName:false,profile:true,title:document.title,charset:document.characterSet||document.charset||document.defaultCharset,vportal:false,eventType:"pageview",eventName:undefined,eventParams:{},optimizeTrackingParams:true},arguments[0]);var b=this.getPageName({rules:c.rules,ajax:c.ajax,url:c.url,path:c.path,cookie:c.cookie,search:c.search,hash:c.hash,referrer:c.referrer,debug:c.debug,test:c.test,cachePageName:c.cachePageName,skipPageName:c.skipPageName,engine:c.engine});if(typeof(b)==="undefined"||typeof(b)!=="object"){return}if(typeof(c.referrer)!=="undefined"&&!/^\s*$/.test(c.referrer)&&!/^https?:\/\//.test(c.referrer)){c.referrer="http://"+c.referrer}var d={ajax:c.ajax,url:c.url,path:c.path,cookie:c.cookie,search:c.search,hash:c.hash,referrer:c.referrer,title:c.title,https:c.https,charset:c.charset,fup:undefined,engine_version:this.version,customParams:c.customParams,driverConf:c.driverConf,eventType:c.eventType,eventName:c.eventName,eventParams:c.eventParams,optimizeTrackingParams:c.optimizeTrackingParams};if(c.skipPageName===false&&typeof(c.rules.version)!=="undefined"){d.site_rules_version=c.rules.version}if(c.profile){if(typeof(getFup)==="function"){var g=getFup();if(typeof(g)==="object"){if(c.debug){this.log("FUP object ok",g,IOLOBJ)}if(typeof(g.ext)==="object"&&/^\d+$/.test(g.ext.uos)&&/^\d+$/.test(g.ext.uab)){g._wn="u"+(parseInt(g.ext.uab)+1800+1999)+"z"+(g.ext.uos==122?1:g.ext.uos==133?2:0)}d.fup=g}}}if(c.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-send-before",{pageName:b,data:d})}if(c.callDirectly){if(typeof(IOL.Analytics.Tracking.Engine.Plugins._plugins[c.engine].url_handler)==="function"){try{this._trackingRequest=IOL.Analytics.Tracking.Engine.Plugins._plugins[c.engine].url_handler(this,{debug:c.debug,pageName:b.pn,data:d})}catch(f){if(c.debug){this.log(f)}}IOL.Analytics.Utils.trackingPixel({url:this._trackingRequest,onLoadHandler:c.onLoadHandler,triggerEvents:c.triggerEvents,debug:c.debug,addTimestampToUrl:false});if(this._browser.msie&&this._browser.version<10){c.adBlockCheck=false}if(c.adBlockCheck&&(this.params.adBlockCheck||b.adblock)){this.adBlockCheck({sendTracking:true})}}}else{if(typeof(IOL.Analytics.Tracking.Engine.Plugins._plugins[c.engine].send_handler)==="function"){var a=IOL.Analytics.Tracking.Engine.Plugins._plugins[c.engine].send_handler(this,{pageName:b.pn,data:d})}}if(b.cb){try{window[b.cb](b.pn)}catch(f){if(c.debug){this.log(f)}}}if(c.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-send-after",{pageName:b})}},getPageName:function(){var args=IOL.objectExtend({debug:this.params.debug,test:this.params.test,rules:this.params.rules,addHostToPageName:this.params.addHostToPageName,engine:this.params.engine,ajax:undefined,url:document.location.href,path:document.location.pathname,cookie:document.cookie,search:document.location.search,hash:document.location.hash,cachePageName:false,skipPageName:false},arguments[0]);var page_name;var callback_name,adblock=false;if(args.skipPageName===false){if(args.cachePageName&&typeof(this._pagenames[args.engine])!=="undefined"){page_name=this._pagenames[args.engine];if(args.debug){this.log("Getting page name from cache: "+page_name)}}else{if(typeof(args.rules)==="undefined"||(typeof(args.rules.pn)!=="object"&&typeof(args.rules.cn)!=="object")){if(args.debug){this.log("Undefined 'rules'")}return undefined}var rules_pagename_key=args.rules.defaultPn?"pn":"cn";page_name={pn:args.rules.defaultPn||args.rules.defaultCn};callback_name=null;for(var i=0,l=args.rules[rules_pagename_key].length;i<l;i++){var found=0;if(args.debug){this.log(args.rules[rules_pagename_key][i].n,args.rules[rules_pagename_key][i])}var re;try{re=new RegExp(args.rules[rules_pagename_key][i].v)}catch(e){if(args.debug){this.log(e)}continue}if(args.debug){this.log("Matching "+args.rules[rules_pagename_key][i].t+" "+args.rules[rules_pagename_key][i].v)}var value;if(args.rules[rules_pagename_key][i].t==="js"){try{eval("value = "+args.rules[rules_pagename_key][i].id)}catch(e){if(args.debug){this.log(e)}continue}}else{if(args.rules[rules_pagename_key][i].t==="dom"){try{value=document.getElementById(args.rules[rules_pagename_key][i].id).innerHTML}catch(e){if(args.debug){this.log(e)}continue}}else{value=args[args.rules[rules_pagename_key][i].t]}}if(value===null||/^\s*$/.test(value)){if(args.debug){this.log("Skipped null value")}continue}var matches=re.exec(value);if(matches){if(args.debug){this.log("FOUND ("+args[args.rules[rules_pagename_key][i].t]+" =~ "+re+")")}found=1;page_name.pn=args.rules[rules_pagename_key][i].n;if(matches.length>0){page_name.pn=page_name.pn.replace(/\$(\d+)/g,function(m,s1){return(typeof matches[s1]==="undefined"?"":matches[s1])})}if(typeof(window[args.rules[rules_pagename_key][i].c])==="function"){callback_name=args.rules[rules_pagename_key][i].c;if(args.debug){this.log("CALLBACK: "+callback_name)}}page_name.adblock=args.rules[rules_pagename_key][i].adblock;break}}if(args.addHostToPageName){page_name.pn+="."+document.location.hostname.replace(/\./g,"_")}if(callback_name){page_name.cb=callback_name}this._pagenames[args.engine]=page_name}if(args.debug){this.log("The winner is: "+page_name.pn)}}return page_name},log:function(){IOL.Analytics.Utils.log(arguments[0],{prefix:this._log_prefix})},adBlockCheck:function(){var b=IOL.objectExtend({debug:0,id:"ad-block-check",iframeFriendlyCheck:true,iframeFriendlyJsSrc:"//i.plug.it/iplug/js/lib/iol/analytics/ads/adv/_ads.js",iframeFriendlyJsObjectName:"IOL_Adv_check",iframeFriendlyTimeout:0,iframeFriendlyRemove:false,iframeCheck:false,iframeSrc:"//i.plug.it/iplug/js/lib/iol/analytics/ads/adv/_ads.html",iframeTimeout:0,objectCheck:false,objectName:"iol_adblock_check",objectTimeout:0,googletagCheck:true,googletagTimeout:3000,sendTracking:false,triggerEvents:true,iatObjectName:"iat"},arguments[0]);var a=this;if(b.iframeFriendlyCheck===true){setTimeout(function(){try{var g=document.createElement("iframe"),i=b.id+"_friendly";var f=document.getElementById(i);if(f){if(b.iframeFriendlyRemove){f.parentNode.removeChild(f)}else{i+="-"+ +(new Date)}}g.height="1px";g.width="1px";g.frameBorder="0px";g.id=i;document.body.appendChild(g);f=document.getElementById(i);IOL.Analytics.Utils.loadJS({src:b.iframeFriendlyJsSrc+(/\?/.test(b.iframeFriendlyJsSrc)?"&":"?")+"_t="+ +(new Date),document:f.contentWindow.document,async:false,write:true,writeOpen:true,writeClose:false,id:"advlibrary"});IOL.Analytics.Utils.loadJS({text:"if ( typeof("+b.iframeFriendlyJsObjectName+') === "undefined" ) {	try {'+(b.triggerEvents?"window.parent.IOL.Analytics.Utils.triggerEvent( 'iat-adblockcheck', { type: 4 } );":"")+(b.sendTracking?"window.parent."+b.iatObjectName+".send({ eventType: 'event', eventName: 'adblock', eventParams: { 1: 4 }, cachePageName: true, adBlockCheck: false });":"")+"	/*console.log(window."+b.iframeFriendlyJsObjectName+',"AdBlock TRUE")*/ 	}	catch (e) {}} else {	/*console.log(window.'+b.iframeFriendlyJsObjectName+', "AdBlock FALSE")*/ }',document:f.contentWindow.document,async:false,write:true,writeOpen:false,writeClose:true})}catch(h){}},b.iframeFriendlyTimeout)}if(b.objectCheck===true){setTimeout(function(){try{if(window[b.objectName]){}else{if(b.sendTracking){a.send({eventType:"event",eventName:"adblock",eventParams:{1:3},cachePageName:true,adBlockCheck:false})}if(b.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:3})}}}catch(f){if(b.sendTracking){a.send({eventType:"event",eventName:"adblock",eventParams:{1:3},cachePageName:true,adBlockCheck:false})}if(b.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:3})}}},b.objectTimeout)}if(b.iframeCheck===true){try{var c=document.createElement("iframe");c.height="1px";c.width="1px";c.frameBorder="0px";c.id=b.id;c.src=b.iframeSrc+(/\?/.test(b.iframeSrc)?"&":"?")+"_t="+ +(new Date);document.body.appendChild(c);setTimeout(function(){var e=document.getElementById(b.id);if(/\b(none|hidden)\b/i.test(e.style.display)||e.style.visibility==="hidden"||e.offsetHeight===0){if(b.sendTracking){a.send({eventType:"event",eventName:"adblock",eventParams:{1:1},cachePageName:true,adBlockCheck:false})}if(b.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:1})}}else{if(b.googletagCheck){var f=false;setTimeout(function(){if(typeof(window.googletag)!=="undefined"){if(typeof(window.googletag.pubads)!=="function"){f=true}}else{f=true}if(f){if(b.sendTracking){a.send({eventType:"event",eventName:"adblock",eventParams:{1:2},cachePageName:true,adBlockCheck:false})}if(b.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-adblockcheck",{type:2})}}},b.googletagTimeout)}}e.parentNode.removeChild(e)},b.iframeTimeout)}catch(d){}}}};IOL.Analytics.Tracking.Engine.Plugins={_plugins:{}};IOL.Analytics.Tracking.Engine.Plugins.WebTrekk=IOL.Class.create();IOL.Analytics.Tracking.Engine.Plugins.WebTrekk.prototype={name:"webtrekk",initialize:function(){var a=IOL.objectExtend({debug:false,trackDomain:"italiaonline01.wt-eu02.net",trackId:"215973748390194",sandboxTrackId:"978626416445858"},arguments[0]);this.params=a},escape:typeof(encodeURIComponent)==="function"?encodeURIComponent:escape,init_handler:function(b,a){a=IOL.objectExtend({debug:false},a||{});if(a.debug){b.log([this.name,"init_handler",b,a])}},url_handler:function(c,n){n=IOL.objectExtend({debug:false,data:{}},n||{});n.data._browser=c._browser;var s=(c.params.test?this.params.sandboxTrackId:this.params.trackId);var b="http"+(n.data.https?"s":"")+"://"+this.params.trackDomain+"/"+s+"/wt?p=",e=new Date();p=[433,this.escape(n.pageName),1,screen.width+"x"+screen.height,screen.colorDepth,navigator.cookieEnabled?1:0,e.getTime(),n.data.referrer?this.escape(n.data.referrer):0,IOL.Analytics.Utils.windowSize().join("x"),navigator.javaEnabled()?1:0];b+=p.join(",");if(n.debug){c.log(this.name,"url_handler",b,p,c,n)}b+="&pu="+this.escape(n.data.url)+"&la="+this.escape(c._browser.userLanguage.substring(0,2))+"&tz="+Math.round(-1*e.getTimezoneOffset()/60);if(c._browser.safari||c._browser.mobileSafari||n.data.driverConf.firstPartyCookie){var h="iat_uid";var g=IOL.Analytics.Utils.getCookie(h);if(typeof(g)==="undefined"){g=4+IOL.Analytics.Utils.uniqueId();b+="&one=1"}else{b+="&one=0"}IOL.Analytics.Utils.setCookie({name:h,value:g,date:{day:90},path:"/",debug:n.debug});b+="&eid="+this.escape(g)}var a=this.contentGroups(n.pageName);b+=this.buildQueryStringFromObject({obj:a,prefix:"cg"});n.data.cp3=n.data.url;if(n.data.driverConf.optimizeTrackingParams){var m=["ret_url","nocache","nc"];var k={};if(typeof(n.data.driverConf.searchParamsToRemove)!=="undefined"&&n.data.driverConf.searchParamsToRemove.constructor===Array){for(var j=0,f=n.data.driverConf.searchParamsToRemove.length;j<f;j++){if(typeof(n.data.driverConf.searchParamsToRemove[j].name)!=="undefined"){k[n.data.driverConf.searchParamsToRemove[j].name]=n.data.driverConf.searchParamsToRemove[j].map}}m.push.apply(m,IOL.Analytics.Utils.getObjectKeys({obj:k}))}var d=IOL.Analytics.Utils.cleanURL({url:n.data.url,searchParamsToRemove:m,sortSearch:true});n.data.cp3=d.url;var q={};for(var r in d.removedSearchParams){if(d.removedSearchParams.hasOwnProperty(r)&&typeof(d.removedSearchParams[r])!=="undefined"&&typeof(k[r])!=="undefined"){if(typeof(q[k[r]])==="undefined"){q[k[r]]=""}q[k[r]]+=d.removedSearchParams[r]+" "}}b+=this.buildQueryStringFromObject({obj:q,prefix:""})}var o=this.customParams(n.data);b+=this.buildQueryStringFromObject({obj:o,prefix:"cp"});if(n.data.eventType==="event"&&typeof(n.data.eventName)!=="undefined"){b+="&ct="+this.escape(n.data.eventName);b+=this.buildQueryStringFromObject({obj:n.data.eventParams,prefix:"ck"})}return b},send_handler:function(b,a){a=IOL.objectExtend({debug:false},a||{});if(a.debug){b.log(this.name,"send_handler",b,a)}},contentGroups:function(b){if(typeof(b)!=="string"){return{}}var e={};var d=b.split(/\./);for(var c=0,a=d.length;c<a;c++){if(c>5){break}e[c+1]=d[c]}e[7]=b;return e},customParams:function(){var f=IOL.objectExtend({debug:false,customParams:{},optimizeTrackingParams:false,driverConf:{optimizeTrackingParams:true}},arguments[0]||{});var a=IOL.Analytics.Utils.URL(f.url)||{};var h="web";switch(true){case f._browser.isMobile:h="mobile";break;case f._browser.isTablet:h="tablet";break}var b="no-refresh",j=new IOL.Analytics.Utils.CGI(f.url),e=["refresh_ce","refresh_cens","refresh_ce-awe"];for(var d=0,c=e.length;d<c;d++){if(j.hasOwnProperty(e[d])){b=e[d];break}}var g=IOL.objectExtend(f.customParams,{1:f.referrer?IOL.Analytics.Utils.URL(f.referrer).hostname:"no-referrer",2:f.referrer?(f.driverConf.optimizeTrackingParams?IOL.Analytics.Utils.cleanURL({url:f.referrer,search:false,hash:false}).url:f.referrer):"no-referrer",3:null,4:b,5:f.customParams[5],6:f.customParams[6],7:f.charset.toLowerCase(),8:f.customParams[8],9:f.engine_version,10:f.site_rules_version,11:f.title,12:h,13:typeof(f.customParams[13])!=="undefined"?f.customParams[13]:(typeof iol_adv_config==="object"&&iol_adv_config.doc_id?iol_adv_config.doc_id:undefined),14:typeof(f.customParams[14])!=="undefined"?f.customParams[14]:(typeof iol_adv_config==="object"&&iol_adv_config.page_type?iol_adv_config.page_type:undefined),24:typeof(f.customParams[24])!=="undefined"?f.customParams[24]:(typeof iol_adv_config==="object"&&iol_adv_config.section?iol_adv_config.section:undefined),25:a.protocol,26:a.hostname,27:f.driverConf.optimizeTrackingParams?undefined:a.pathname,28:f.driverConf.optimizeTrackingParams?undefined:a.search,29:f.driverConf.optimizeTrackingParams?undefined:a.hash,103:f.url});if(typeof(f.fup)==="object"){g[30]=f.fup._wn;g[35]=f.fup.sse;g[36]=f.fup.sfe;g[37]=f.fup.spr;g[38]=f.fup.gic;g[39]=f.fup.gip;g[40]=f.fup.gis;g[41]=f.fup.gcrl;g[42]=f.fup.lip;g[43]=f.fup.lic;g[44]=f.fup.lir}return g},buildQueryStringFromObject:function(){var b=IOL.objectExtend({debug:false,prefix:"_"},arguments[0]||{});if(typeof(b.obj)!=="object"){return""}var a="";for(var c in b.obj){if(b.obj.hasOwnProperty(c)&&typeof(b.obj[c])!=="undefined"&&b.obj[c]!==null){a+="&"+b.prefix+c+"="+this.escape(b.obj[c])}}return a}};IOL.Analytics.Tracking.Engine.Plugins.PageScroll=IOL.Class.create();IOL.Analytics.Tracking.Engine.Plugins.PageScroll.prototype={name:"pagescroll",initialize:function(){var a=IOL.objectExtend({debug:false,intervals:4,sendTracking:true},arguments[0]);this.params=a;this.scrollPosition=IOL.Analytics.Utils.getScrollPosition();this.ymax=window.innerHeight+window.scrollMaxY||self.innerHeight+self.scrollMaxY||document.documentElement&&document.documentElement.scrollHeight||document.body.offsetHeight;this.current_interval=1;this.y=window.scrollY||self.scrollY||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},init_handler:function(c,b){b=IOL.objectExtend({debug:this.params.debug,addListener:c.params.pageScroll,intervals:this.params.intervals,sendTracking:this.params.sendTracking},b||{});if(b.debug){c.log([this.name,"init_handler",c,b])}var a=this;if(b.addListener&&!this._added_listener){window.addEventListener("scroll",function(){var d=IOL.Analytics.Utils.getScrollPosition();if(d>a.scrollPosition){a.scrollPosition=d;if(d>=Math.round(a.ymax/b.intervals*a.current_interval)){var e=Math.round(100/b.intervals*a.current_interval);if(b.sendTracking){c.send({eventType:"event",eventName:"pagescroll",eventParams:{540:e},cachePageName:true,adBlockCheck:false})}a.current_interval++}}});this._added_listener=true}}};IOL.Analytics.Utils={URL:function(c,b){b=IOL.objectExtend({debug:0,fail_return_value:undefined},b||{});if(typeof(c)==="undefined"||/^\s*$/.test(c)||typeof(c)!=="string"){return b.fail_return_value}if(typeof window.URL==="function"){try{return new URL(c)}catch(g){if(b.debug){IOL.Analytics.Utils.log(g,{prefix:"IAT Utils.URL"})}return b.fail_return_value}}else{var f=document.createElement("a");f.href=c;var a=IOL.Analytics.Utils.browser();var d;d=((a.msie||a.trident)?"/":"")+f.pathname;return{hash:f.hash,host:f.host,hostname:f.hostname,href:f.href,origin:f.origin,password:f.password,pathname:d,port:f.port,protocol:f.protocol,search:f.search,username:f.username}}},CGI:function(c){var f;if(typeof(c)==="undefined"||typeof(c)!=="string"){return{}}f=c.split(/\?/)[1];if(f){this._search=f;var e=this._search.split(/\&+/);for(var d=0,b=e.length;d<b;d++){var g=e[d].split("=");for(var h=0,a=g.length;h<a;h++){g[h]=g[h].replace(/\+/g," ");g[h]=g[h].replace(/%([a-fA-F0-9][a-fA-F0-9])/g,function(k,i){i=i.toUpperCase();var l="0123456789ABCDEF";var o=0;var j=0;for(var m=i.length;m>0;m--){o+=l.indexOf(i.charAt(m-1))*Math.pow(16,j);j++}return String.fromCharCode(o)})}this[g[0]]=g[1]}}else{return{}}},windowSize:function(f){var b=f===false?window:window.top,c,a;try{c=b.innerWidth||b.document.documentElement.clientWidth||b.document.body.clientWidth;a=b.innerHeight||b.document.documentElement.clientHeight||b.document.body.clientHeight}catch(d){b=window;c=b.innerWidth||b.document.documentElement.clientWidth||b.document.body.clientWidth;a=b.innerHeight||b.document.documentElement.clientHeight||b.document.body.clientHeight}return[c,a]},getScrollPosition:function(){return window.scrollY+window.innerHeight||self.scrollY+self.innerHeight||document.documentElement&&document.documentElement.scrollTop+document.documentElement.clientHeight||document.body.scrollTop+document.body.clientHeight},log:function(){var a=IOL.objectExtend({level:"log",prefix:undefined},arguments[arguments.length-1]);if(typeof console==="undefined"){return}try{a.prefix?console[a.level](a.prefix,arguments):console[a.level](arguments)}catch(b){}},registerEnginePlugin:function(a){if(typeof a!=="object"){IOL.Analytics.Utils.log('Plugin "'+a+'" is invalid (must be an object)');return false}else{if(typeof a.name!=="string"){IOL.Analytics.Utils.log('Plugin "'+a+'" is invalid (must have a name property)');return false}else{if(IOL.Analytics.Tracking.Engine.Plugins._plugins[a.name]){IOL.Analytics.Utils.log('Plugin "'+a.name+'" has already been registered, and cannot be overwritten');return false}}}IOL.Analytics.Tracking.Engine.Plugins._plugins[a.name]=a;return true},unregisterEnginePlugin:function(a){if(typeof a==="undefined"){IOL.Analytics.Utils.log('Plugin name "'+a+'" has to be defined');return false}if(typeof IOL.Analytics.Tracking.Engine.Plugins._plugins[a]==="undefined"){IOL.Analytics.Utils.log('Plugin "'+a+"\" hasn't registered");return false}return delete IOL.Analytics.Tracking.Engine.Plugins._plugins[a]},getEnvironmentLevel:function(a){a=IOL.Analytics.Utils.URL(a||document.location.href);if(typeof(a)==="undefined"||a.protocol==="file:"){return"dev"}var b=a.host.split(/\./).reverse()[2];return/^(dev|st|pp)$/.test(b)?b:"prod"},setCookie:function(){var d=IOL.objectExtend({debug:false,name:null,value:null,date:"",path:"/",domain:null,secure:false,escape:true},arguments[0]);var a=0;if(d.date.constructor.toString().match(/function\s+Date\(/)){a=d.date}else{if(d.date.constructor.toString().match(/function\s+Object\(/)){d.date=IOL.objectExtend({day:0,hour:0,min:0,sec:0},d.date);if(d.date.day===0&&d.date.hour===0&&d.date.min===0&&d.date.sec===0){a=0}else{a=new Date();var e=new Date(0);var b=e.getTime();if(b>0){a.setTime(a.getTime()-b)}a.setTime(a.getTime()+(((d.date.day*24+d.date.hour)*60+d.date.min)*60+d.date.sec)*1000)}}}var c=d.name+"="+(d.escape?escape(d.value):d.value)+(a?"; expires="+a.toGMTString():"")+(d.path?"; path="+d.path:"")+(d.domain?"; domain="+d.domain:"")+(d.secure?"; secure":"");if(d.debug){IOL.Analytics.Utils.log(c,{prefix:"[IAT Utils.serCookie] "})}document.cookie=c;return c},getCookie:function(a){var c=a+"=";var b=document.cookie.indexOf(c);if(b===-1){return undefined}var d=document.cookie.indexOf(";",b+c.length);if(d===-1){d=document.cookie.length}return unescape(document.cookie.substring(b+c.length,d))},deleteCookie:function(){var a=IOL.objectExtend({name:null,path:"/",domain:null},arguments[0]);if(IOL.Analytics.Utils.getCookie(a.name)){IOL.Analytics.Utils.setCookie({name:a.name,value:"",date:new Date(0),path:a.path,domain:a.domain})}},triggerEvent:function(e,b,a){if(typeof(e)!=="string"||typeof(document.createEvent)==="undefined"){return false}var c;if(!a&&(typeof(CustomEvent)==="function"||typeof(CustomEvent)==="object")){try{c=new CustomEvent(e,{bubbles:true,cancelable:true,detail:b})}catch(d){c=document.createEvent("CustomEvent");c.initCustomEvent(e,true,true,b)}}else{c=document.createEvent("Event");c.initEvent(e,true,true)}return window.document.dispatchEvent(c)},trackingPixel:function(){var b=IOL.objectExtend({debug:0,timeout:2,url:undefined,onLoadHandler:undefined,addTimestampToUrl:true,logPrefix:"[IAT] ",triggerEvents:false},arguments[0]);if(typeof(b.url)==="undefined"||typeof(b.url)!=="string"){return false}var c=new Image();if(typeof(b.onLoadHandler)==="function"){if(b.debug){IOL.Analytics.Utils.log("Adding onload handler",{prefix:b.logPrefix})}var d=window.setTimeout(function(){a(d,"timeout")},b.timeout*1000);var a=function(g,f){try{window.clearTimeout(g)}catch(h){console.log(h)}c.onload=c.onerror=function(){return};b.onLoadHandler({type:f,url:b.url});if(b.triggerEvents){IOL.Analytics.Utils.triggerEvent("iat-pixel-done",{type:f,url:b.url})}};c.onload=function(){a(d,"success")};c.onerror=function(){a(d,"error")}}if(typeof(b.url)!=="undefined"&&typeof(b.url)==="string"){c.src=b.url+(b.addTimestampToUrl===true?(/\?/.test(b.url)?"&":"?")+"_t="+ +(new Date):"");if(b.debug){IOL.Analytics.Utils.log("Making direct call to "+c.src,{prefix:b.logPrefix})}}},click:function(){var d,a=0,b={};if(typeof(arguments[0])==="object"&&arguments[0].tagName==="A"){b=arguments[0];if(typeof(b.href)==="string"){if(b.target){d=function(){window.open(b.href,b.target,b.getAttribute("data-window-features"))}}else{d=function(){document.location.href=b.href}}a=1}}else{if(typeof(arguments[0])==="object"&&arguments[0].tagName==="FORM"){b=arguments[0];d=function(){if(b.target){window.open(null,b.target,b.getAttribute("data-window-features"))}b.submit()};a=1}else{a=0}}var c=IOL.objectExtend({debug:0,timeout:2,url:undefined,onLoadHandler:d,addTimestampToUrl:true,logPrefix:"[IAT] ",triggerEvents:false},arguments[a]||{});IOL.Analytics.Utils.trackingPixel(c)},browser:function(d){var e=(d||navigator.userAgent).toLowerCase();var c=/(edge)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];var a={browser:c[1]||"",version:c[2]||"0"};var b={isMobile:/iphone|ipod|android|blackberry|opera|mini|windows\s*(ce|phone)|palm|smartphone|iemobile/i.test(e),isTablet:/ipad|android|xoom|sch-i800|playbook|tablet|kindle/i.test(e),timezone:"",language:""};b.isDesktop=!(b.mobileSafari||b.isMobile||b.isTablet);if(a.browser){b[a.browser]=true;b.version=a.version}if(b.chrome){b.webkit=true}else{if(b.webkit){b.safari=true}}b.mobileSafari=b.isMobile&&(typeof(b.safari)==="undefined"?false:b.safari);if(typeof(navigator.languages)!=="undefined"&&navigator.languages.length>0){b.userLanguage=navigator.languages[0]}else{if(typeof(navigator.userLanguage)!=="undefined"){b.userLanguage=navigator.userLanguage}}if(typeof(navigator.language)!=="undefined"){b.language=navigator.language}else{if(typeof(navigator.browserLanguage)!=="undefined"){b.language=navigator.browserLanguage}}b.userLanguage=typeof(b.userLanguage)==="undefined"?b.language:b.userLanguage;return b},loadJS:function(){var b=IOL.objectExtend({id:"js",ajax:false,write:false,writeOpen:true,writeClose:true,async:true,text:null,onLoadHandler:null,document:window.document},arguments[0]);var a=b.document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("id",b.id);if(b.async){a.setAttribute("async",true)}if(typeof(b.src)!=="undefined"){if(b.write){if(b.writeOpen){b.document.open()}b.document.write(unescape("%3Cscript type='text/javascript' src='"+b.src+"' id='"+b.id+"'%3E%3C/script%3E"));if(b.writeClose){b.document.close()}if(typeof(b.onLoadHandler)==="function"){b.onLoadHandler()}return}else{a.src=b.src;if(typeof(b.onLoadHandler)==="function"){if(a.readyState){a.onreadystatechange=function(){if(a.readyState==="loaded"||a.readyState==="complete"){a.onreadystatechange=null;b.onLoadHandler()}}}else{a.onload=a.onerror=function(){b.onLoadHandler()}}}}}if(b.text){if(b.write){if(b.writeOpen){b.document.open()}b.document.write(unescape("%3Cscript type='text/javascript' id='"+b.id+"'%3E"+b.text+"%3C/script%3E"));if(b.writeClose){b.document.close()}if(typeof(b.onLoadHandler)==="function"){b.onLoadHandler()}return}a.text=b.text}(b.document.getElementsByTagName("head")[0]||b.document.getElementsByTagName("body")[0]).appendChild(a)},isRegExp:function(){var a=IOL.objectExtend({regex:undefined,debug:false,logPrefix:"[IAT Utils.isRegExp] "},arguments[0]);if(typeof(a.regex)==="undefined"){return false}if(a.regex.constructor.name!=="RegExp"){try{a.regex=new RegExp(a.regex)}catch(b){if(a.debug){IOL.Analytics.Utils.log(b,{prefix:a.logPrefix})}return b}}if(a.debug){IOL.Analytics.Utils.log(a.regex,{prefix:a.logPrefix})}return true},stringToObject:function(f,e){e=e||"object";var b=f.split(".");var d=(window||this);for(var c=0,a=b.length;c<a;c++){d=d[b[c]]}if(typeof d!==e){throw new Error(e+" not found: "+f)}return d},cleanURL:function(){var d=IOL.objectExtend({debug:0,url:document.location.href,protocol:true,search:true,hash:true,pathname:true,sortSearch:false,searchParamsToRemove:[],logPrefix:"[IAT Utils.isRegExp] "},arguments[0]),b;var c=IOL.Analytics.Utils.URL(d.url)||{};if(d.debug){IOL.Analytics.Utils.log(c,{prefix:d.logPrefix})}var f={};if(d.search&&c.search){var a=new IOL.Analytics.Utils.CGI(c.search);if(d.sortSearch){a=IOL.Analytics.Utils.sortObjectByKey({obj:a})}if((b=d.searchParamsToRemove.length)){c.search="?";for(var g in a){if(/^_(search)/.test(g)){continue}if(d.searchParamsToRemove.indexOf(g)!==-1){f[g]=a[g];continue}c.search+=(c.search&&c.search!=="?"?"&":"")+g+(typeof(a[g])!=="undefined"?"="+IOL.Analytics.Utils.escape(a[g]):"")}}}var e=(d.protocol?c.protocol+"//":"")+(c.hostname)+(c.port&&(!/^(0|80|443)$/.test(c.port))?":"+c.port:"")+(d.pathname?c.pathname:"")+(d.search&&c.search?c.search:"")+(d.hash&&c.hash?c.hash:"");return{url:e,removedSearchParams:f}},escape:typeof(encodeURIComponent)==="function"?encodeURIComponent:escape,sortObjectByKey:function(){var b=IOL.objectExtend({obj:{},degug:false,asc:true,logPrefix:"[IAT Utils.sortObjectByKey] "},arguments[0]);var e=[],f={};for(var d in b.obj){if(b.obj.hasOwnProperty(d)){e.push(d)}}e.sort();if(!b.asc){e.reverse()}for(var c=0,a=e.length;c<a;c++){f[e[c]]=b.obj[e[c]]}return f},getObjectKeys:function(){var a=IOL.objectExtend({obj:{},degug:false,skipEmpty:false},arguments[0]),c=[];for(var b in a.obj){if(a.obj.hasOwnProperty(b)&&(!a.skipEmpty||typeof(a.obj[b])!=="undefined")){c.push(b)}}return c},uniqueId:function(){var b=IOL.objectExtend({degug:false,logPrefix:"[IAT Utils.uniqueID] ",number:8,addTimestamp:true},arguments[0]),a,c,d;b.number=Math.floor(b.number);if(isNaN(b.number)){b.number=8}c=Math.pow(10,b.number-1);a=Math.pow(10,b.number);d=Math.floor(Math.random()*(a-c))+c;return(b.addTimestamp===true?Math.round(+(new Date())/1000):"")+""+d}};IOL.Analytics.Utils.registerEnginePlugin(new IOL.Analytics.Tracking.Engine.Plugins.WebTrekk());IOL.Analytics.Utils.triggerEvent("iat-loaded");(function(){var b,a=document.getElementById(window.IolAnalyticsObject+"-engine");var c=function(){try{if(typeof window.IolAnalyticsObject!=="undefined"){var d=window[window.IolAnalyticsObject].q,f;window[window.IolAnalyticsObject]=new IOL.Analytics.Tracking.Engine({});if(typeof d!=="undefined"&&d.constructor===Array){while(undefined!==(f=d.shift())){window[window.IolAnalyticsObject].log("args",f);window[window.IolAnalyticsObject].send(f[0])}}}}catch(g){}};if(a&&(b=(a.src||"").split(/#/)[1])){IOL.Analytics.Utils.loadJS({src:b,onLoadHandler:c})}else{c()}})();